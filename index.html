<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>小余专属抽奖</title>
		<link rel="stylesheet" type="text/css" href="css/base.css" />
		<link rel="stylesheet" type="text/css" href="css/layout.css" />
		<link rel="stylesheet" type="text/css" href="css/home-style.css" />
		<link rel="stylesheet" type="text/css" href="css/media.css" />
		<script src="js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/slider.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<h1 class="web-title"><img src="img/yu.png" class="yu">专属抽奖</h1>
		<!-- 开屏动画 -->
		<div class="animate-begin">
			<!-- 	<ul class="message-list">
			</ul> -->

		</div>
		<!-- 开屏动画  end-->
		<!-- 抽奖系统 -->
		<main>
			<div class="container">
				<div class="row">
					<div class="col-md-12 col-sm-12">
						<div class="content-wrap">
							<div class="slider-wrap">
								<ul class="slider-list">
									<li class="slider-item">
										<div class="item-img">
											<img src="img/random.png">
										</div>
									</li>
									<li class="slider-item">
										<div class="item-img">
											<img src="img/random.png">
										</div>
									</li>
									<li class="slider-item">
										<div class="item-img">
											<img src="img/random.png">
										</div>
									</li>
									<li class="slider-item">
										<div class="item-img">
											<img src="img/random.png">
										</div>
									</li>

								</ul>
							</div>
							<div class="move-left" id="move-left"></div>
							<button type="button" id="start" class="start">开始抽奖</button>
							<div class="tip">点击打开礼盒！</div>
						</div>
					</div>
				</div>
			</div>
			<div class="msg">
				<p>恭喜你获得了:</p>
				<div class="get-message">
					一整个银河系
				</div>
			</div>
			
		</main>
		<!-- 抽奖系统 end -->
		<!-- 结尾信息 -->
		<footer>

		</footer>
		<!-- 结尾信息 end -->
		<script type="text/javascript">
			var timer;
			let clicgFlag = true
			// 抽奖列表
			let randomList = ["一整个银河系", "一颗太阳", "一个男朋友"]
			let randomNum = parseInt(Math.random() * randomList.length)
			$(".get-message").text(randomList[randomNum])
			$("#start").click(function() {
				
				if (clicgFlag) {
					$("#move-left").click()
					timer = setInterval(function() {
						$("#move-left").click()
					}, 300)
					clicgFlag = false
					$(this).toggleClass('start').toggleClass('stop').text("停止抽奖")
				} else {
					clearInterval(timer)
					clicgFlag = true
					$(this).toggleClass('start').toggleClass('stop').text("开始抽奖")
					$(".slider-item").css('background-color', 'transparent')
					$("#start").css('visibility', 'hidden')
					setTimeout(function() {
						$(".end").css('transform', 'scale(1.2)').addClass('rotate')
						$(".tip").insertBefore('#start').fadeIn()
					}, 1000)
				}
			})
			$("body").on('click', '.end', function() {
				$(".end img").css('transform', 'scale(0)')
				$(".msg").show()
				$(".msg p").css('transform', 'scale(1)')
				setTimeout(function () {
					$(".get-message").css('transform', 'scale(1)')
				},1000)
				$(".tip").hide()
			})
		</script>
	</body>
</html>
